# Section Builder - éƒ¨é–€äººå“¡ç®¡ç†ç³»çµ±

ä¸€å€‹ç¾ä»£åŒ–çš„éƒ¨é–€äººå“¡ç®¡ç†ç³»çµ±ï¼Œæä¾›å®Œæ•´çš„å“¡å·¥è³‡æ–™ç®¡ç†ã€è«‹å‡ç¶­è­·ã€å°ˆæ¡ˆç®¡ç†ã€å¹´å‡ç®¡ç†å’Œç³»çµ±ç®¡ç†åŠŸèƒ½ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹è‰²

### æ ¸å¿ƒåŠŸèƒ½

- ğŸ‘¥ **å“¡å·¥ç®¡ç†** - å®Œæ•´çš„å“¡å·¥è³‡æ–™ CRUD æ“ä½œ
  - æ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤å“¡å·¥è³‡æ–™
  - å¤šç¶­åº¦æœå°‹èˆ‡ç¯©é¸ï¼ˆå§“åã€éƒ¨é–€ã€å“¡å·¥é¡å‹ã€åœ¨è·ç‹€æ…‹ï¼‰
  - åˆ†é èˆ‡æ’åºåŠŸèƒ½
  - å“¡å·¥çµ±è¨ˆå ±è¡¨

- ğŸ“… **è«‹å‡ç¶­è­·** - è«‹å‡è¨˜éŒ„ç®¡ç†èˆ‡è¿½è¹¤
  - è«‹å‡è¨˜éŒ„ CRUD æ“ä½œ
  - æ—¥æœŸç¯„åœç¯©é¸
  - å“¡å·¥å§“åä¸‹æ‹‰é¸æ“‡

- ğŸ–ï¸ **å¹´å‡ç®¡ç†** - å¹´åº¦å‡æœŸé¡åº¦ç¶­è­·
  - å¹´å‡è¨˜éŒ„ CRUD æ“ä½œ
  - å¹´åº¦ç¯©é¸
  - å‡åˆ¥ç®¡ç†

- ğŸ“‹ **å°ˆæ¡ˆç®¡ç†** - å°ˆæ¡ˆè³‡è¨Šç¶­è­·
  - å°ˆæ¡ˆ CRUD æ“ä½œ
  - å°ˆæ¡ˆç‹€æ…‹è¿½è¹¤
  - Excel æ‰¹æ¬¡åŒ¯å…¥ï¼ˆæ”¯æ´å…¨éƒ¨åˆªé™¤ã€åƒ…æ–°å¢ã€æ›´æ–°æˆ–æ–°å¢ä¸‰ç¨®æ¨¡å¼ï¼‰
  - å°ˆæ¡ˆçµ±è¨ˆå ±è¡¨ï¼ˆä¾ç‹€æ…‹ã€å®¢æˆ¶ã€éƒ¨é–€åˆ†çµ„ï¼‰

- âš™ï¸ **åƒæ•¸æª”ç¶­è­·** - ç³»çµ±åƒæ•¸é…ç½®ç®¡ç†
  - ä»£ç¢¼è¡¨ CRUD æ“ä½œ
  - å‡åˆ¥ç­‰ç³»çµ±åƒæ•¸ç¶­è­·

### ç³»çµ±ç®¡ç†ï¼ˆéœ€ ADMIN æ¬Šé™ï¼‰

- ğŸ‘¤ **ä½¿ç”¨è€…ç®¡ç†** - ç³»çµ±ä½¿ç”¨è€…å¸³è™Ÿç¶­è­·
- ğŸ” **è§’è‰²ç®¡ç†** - è§’è‰²èˆ‡æ¬Šé™è¨­å®š
- ğŸ“ **é¸å–®ç®¡ç†** - å‹•æ…‹é¸å–®é…ç½®
- ğŸ”’ **å¯†ç¢¼æ”¿ç­–** - å¯†ç¢¼å¼·åº¦èˆ‡éæœŸè¨­å®š

### è³‡æ–™åŒ¯å‡º

- ğŸ“¥ **å¤šæ ¼å¼åŒ¯å‡º** - æ”¯æ´ PDFã€CSVã€Excel æ ¼å¼åŒ¯å‡º
- ğŸ‘ï¸ **PDF é è¦½** - åŒ¯å‡ºå‰å¯é è¦½ PDF å…§å®¹
- ğŸ“Š **Excel åŒ¯å…¥** - æ”¯æ´æ‰¹æ¬¡è³‡æ–™åŒ¯å…¥

### å®‰å…¨æ€§

- ğŸ” **JWT èªè­‰** - å®‰å…¨çš„ä½¿ç”¨è€…èº«åˆ†é©—è­‰
- ğŸ›¡ï¸ **CSRF ä¿è­·** - è·¨ç«™è«‹æ±‚å½é€ é˜²è­·
- ğŸ”‘ **è§’è‰²æ¬Šé™æ§åˆ¶** - åŸºæ–¼è§’è‰²çš„å­˜å–æ§åˆ¶

### ä½¿ç”¨è€…é«”é©—

- ğŸ“± **éŸ¿æ‡‰å¼è¨­è¨ˆ** - æ”¯æ´æ¡Œé¢èˆ‡è¡Œå‹•è£ç½®
- ğŸŒ™ **æ·±è‰²æ¨¡å¼** - æ”¯æ´æ·±æ·ºè‰²ä¸»é¡Œåˆ‡æ›
- ğŸ”„ **å³æ™‚æ›´æ–°** - ç„¡éœ€é‡æ–°æ•´ç†é é¢

---

## ğŸ› ï¸ æŠ€è¡“æ¶æ§‹

| å±¤ç´š | æŠ€è¡“ |
|------|------|
| å‰ç«¯ | React 19 + TypeScript + Vite |
| è·¯ç”± | React Router 7 |
| åœ–è¡¨ | Recharts |
| å¾Œç«¯ | Python FastAPI |
| èªè­‰ | JWT (python-jose) |
| å®‰å…¨ | CSRF Token (itsdangerous) |
| è³‡æ–™åº« | PostgreSQL |
| éƒ¨ç½² | Docker + Nginx |

### å‰ç«¯ä¾è³´

```json
{
  "react": "^19.2.0",
  "react-router-dom": "^7.11.0",
  "recharts": "^3.6.0",
  "jspdf": "^4.0.0",
  "html2canvas": "^1.4.1",
  "xlsx": "^0.18.5"
}
```

### å¾Œç«¯ä¾è³´

```text
fastapi==0.115.0
uvicorn[standard]==0.30.0
psycopg2-binary==2.9.9
python-dotenv==1.0.1
itsdangerous==2.1.2
pydantic==2.6.0
openpyxl==3.1.2
python-multipart==0.0.9
python-jose[cryptography]==3.3.0
```

---

## ğŸ“¦ å¿«é€Ÿé–‹å§‹

### é–‹ç™¼ç’°å¢ƒ

```bash
# å®‰è£å‰ç«¯ä¾è³´
npm install

# å•Ÿå‹•å‰ç«¯é–‹ç™¼ä¼ºæœå™¨
npm run dev

# å•Ÿå‹•å¾Œç«¯æœå‹™
cd server
pip install -r requirements.txt
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

### Docker éƒ¨ç½²

```bash
# è¤‡è£½ç’°å¢ƒè¨­å®š
cp .env.example .env

# ç·¨è¼¯ .env è¨­å®šè³‡æ–™åº«é€£ç·š
nano .env

# å»ºç½®ä¸¦å•Ÿå‹•
docker compose up -d --build
```

è©³ç´°éƒ¨ç½²èªªæ˜è«‹åƒé–± **[éƒ¨ç½²æŒ‡å—](docs/DEPLOYMENT.md)**

---

## ğŸ“‹ å°ˆæ¡ˆçµæ§‹

```
section-builder/
â”œâ”€â”€ src/                        # å‰ç«¯åŸå§‹ç¢¼
â”‚   â”œâ”€â”€ components/             # React çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ ChangePasswordModal.tsx  # è®Šæ›´å¯†ç¢¼æ¨¡æ…‹æ¡†
â”‚   â”‚   â”œâ”€â”€ EmployeeForm.tsx    # å“¡å·¥è¡¨å–®
â”‚   â”‚   â”œâ”€â”€ EmployeeSelect.tsx  # å“¡å·¥ä¸‹æ‹‰é¸æ“‡
â”‚   â”‚   â”œâ”€â”€ EmployeeTable.tsx   # å“¡å·¥åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ ExportDropdown.tsx  # åŒ¯å‡ºä¸‹æ‹‰é¸å–®
â”‚   â”‚   â”œâ”€â”€ ImportDialog.tsx    # åŒ¯å…¥å°è©±æ¡†
â”‚   â”‚   â”œâ”€â”€ Layout.tsx          # é é¢ä½ˆå±€ï¼ˆå´é‚Šé¸å–®ï¼‰
â”‚   â”‚   â”œâ”€â”€ Pagination.tsx      # åˆ†é çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ PdfPreview.tsx      # PDF é è¦½
â”‚   â”‚   â”œâ”€â”€ ProtectedRoute.tsx  # è·¯ç”±ä¿è­·
â”‚   â”‚   â”œâ”€â”€ SearchBar.tsx       # æœå°‹èˆ‡ç¯©é¸
â”‚   â”‚   â”œâ”€â”€ SortableHeader.tsx  # å¯æ’åºè¡¨é ­
â”‚   â”‚   â”œâ”€â”€ ThemeProvider.tsx   # ä¸»é¡Œæä¾›è€…
â”‚   â”‚   â””â”€â”€ ThemeToggle.tsx     # ä¸»é¡Œåˆ‡æ›æŒ‰éˆ•
â”‚   â”œâ”€â”€ contexts/               # React Context
â”‚   â”‚   â””â”€â”€ ThemeContext.tsx    # ä¸»é¡Œä¸Šä¸‹æ–‡
â”‚   â”œâ”€â”€ hooks/                  # è‡ªè¨‚ Hooks
â”‚   â”‚   â”œâ”€â”€ useAnnualLeave.ts   # å¹´å‡ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ useAttendance.ts    # è«‹å‡ç¶­è­·
â”‚   â”‚   â”œâ”€â”€ useCodeTable.ts     # åƒæ•¸æª”
â”‚   â”‚   â”œâ”€â”€ useEmployees.ts     # å“¡å·¥ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ useExport.ts        # è³‡æ–™åŒ¯å‡º
â”‚   â”‚   â”œâ”€â”€ useMenus.ts         # é¸å–®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ usePdf.ts           # PDF ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ useProject.ts       # å°ˆæ¡ˆç®¡ç†
â”‚   â”‚   â”œâ”€â”€ useSystemRoles.ts   # è§’è‰²ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ useSystemUsers.ts   # ä½¿ç”¨è€…ç®¡ç†
â”‚   â”‚   â””â”€â”€ useTheme.ts         # ä¸»é¡Œç®¡ç†
â”‚   â”œâ”€â”€ pages/                  # é é¢çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ AnnualLeavePage.tsx # å¹´å‡ç®¡ç†é 
â”‚   â”‚   â”œâ”€â”€ AttendancePage.tsx  # è«‹å‡ç¶­è­·é 
â”‚   â”‚   â”œâ”€â”€ CodeTablePage.tsx   # åƒæ•¸æª”é 
â”‚   â”‚   â”œâ”€â”€ EmployeeStatsPage.tsx  # å“¡å·¥çµ±è¨ˆé 
â”‚   â”‚   â”œâ”€â”€ LoginPage.tsx       # ç™»å…¥é 
â”‚   â”‚   â”œâ”€â”€ MenuMaintenancePage.tsx # é¸å–®ç¶­è­·é 
â”‚   â”‚   â”œâ”€â”€ ProjectPage.tsx     # å°ˆæ¡ˆç®¡ç†é 
â”‚   â”‚   â”œâ”€â”€ ProjectStatsPage.tsx # å°ˆæ¡ˆçµ±è¨ˆé 
â”‚   â”‚   â””â”€â”€ SystemPage.tsx      # ç³»çµ±ç®¡ç†é 
â”‚   â”œâ”€â”€ services/               # API æœå‹™
â”‚   â”‚   â”œâ”€â”€ api.ts              # å“¡å·¥ API
â”‚   â”‚   â”œâ”€â”€ annualLeaveApi.ts   # å¹´å‡ API
â”‚   â”‚   â”œâ”€â”€ attendanceApi.ts    # è«‹å‡ API
â”‚   â”‚   â”œâ”€â”€ authApi.ts          # èªè­‰ API
â”‚   â”‚   â”œâ”€â”€ codeTableApi.ts     # åƒæ•¸æª” API
â”‚   â”‚   â”œâ”€â”€ httpClient.ts       # HTTP å®¢æˆ¶ç«¯ï¼ˆCSRF è™•ç†ï¼‰
â”‚   â”‚   â”œâ”€â”€ projectApi.ts       # å°ˆæ¡ˆ API
â”‚   â”‚   â””â”€â”€ systemApi.ts        # ç³»çµ±ç®¡ç† API
â”‚   â”œâ”€â”€ types/                  # TypeScript å‹åˆ¥å®šç¾©
â”‚   â”‚   â”œâ”€â”€ attendance.ts       # è«‹å‡å‹åˆ¥
â”‚   â”‚   â”œâ”€â”€ codeTable.ts        # åƒæ•¸æª”å‹åˆ¥
â”‚   â”‚   â””â”€â”€ employee.ts         # å“¡å·¥å‹åˆ¥
â”‚   â”œâ”€â”€ App.tsx                 # ä¸»æ‡‰ç”¨ï¼ˆå“¡å·¥ç®¡ç†ï¼‰
â”‚   â”œâ”€â”€ main.tsx                # æ‡‰ç”¨å…¥å£
â”‚   â””â”€â”€ router.tsx              # è·¯ç”±é…ç½®
â”œâ”€â”€ server/                     # å¾Œç«¯åŸå§‹ç¢¼
â”‚   â”œâ”€â”€ routes/                 # API è·¯ç”±æ¨¡çµ„
â”‚   â”‚   â”œâ”€â”€ auth_routes.py      # èªè­‰è·¯ç”±
â”‚   â”‚   â””â”€â”€ system_routes.py    # ç³»çµ±ç®¡ç†è·¯ç”±
â”‚   â”œâ”€â”€ sql/                    # SQL è…³æœ¬
â”‚   â”œâ”€â”€ auth.py                 # èªè­‰è™•ç†
â”‚   â”œâ”€â”€ csrf.py                 # CSRF ä¸­é–“ä»¶
â”‚   â”œâ”€â”€ database.py             # è³‡æ–™åº«é€£ç·š
â”‚   â”œâ”€â”€ main.py                 # FastAPI ä¸»ç¨‹å¼
â”‚   â”œâ”€â”€ models.py               # Pydantic æ¨¡å‹
â”‚   â”œâ”€â”€ requirements.txt        # Python ä¾è³´
â”‚   â””â”€â”€ Dockerfile              # å¾Œç«¯ Docker é…ç½®
â”œâ”€â”€ docs/                       # æ–‡ä»¶
â”‚   â””â”€â”€ DEPLOYMENT.md           # éƒ¨ç½²æŒ‡å—
â”œâ”€â”€ Dockerfile                  # å‰ç«¯ Docker é…ç½®
â”œâ”€â”€ docker-compose.yml          # Docker æœå‹™ç·¨æ’
â”œâ”€â”€ nginx.conf                  # Nginx é…ç½®
â””â”€â”€ init_admin.sh               # åˆå§‹åŒ–ç®¡ç†å“¡è…³æœ¬
```

---

## ğŸ”— ç›¸é—œé€£çµ

| ç’°å¢ƒ | ç¶²å€ |
|------|------|
| å‰ç«¯ï¼ˆç”Ÿç”¢ï¼‰ | http://localhost |
| å‰ç«¯ï¼ˆé–‹ç™¼ï¼‰ | http://localhost:5173 |
| API æ–‡æª” | http://localhost/docs |
| APIï¼ˆé–‹ç™¼ï¼‰ | http://localhost:8000/docs |

---

## ğŸ“¡ API ç«¯é»æ¦‚è¦½

### èªè­‰ API

| æ–¹æ³• | è·¯å¾‘ | èªªæ˜ |
|------|------|------|
| POST | `/api/auth/login` | ä½¿ç”¨è€…ç™»å…¥ |
| POST | `/api/auth/logout` | ä½¿ç”¨è€…ç™»å‡º |
| POST | `/api/auth/change-password` | è®Šæ›´å¯†ç¢¼ |
| GET | `/api/csrf-token` | å–å¾— CSRF Token |

### å“¡å·¥ API

| æ–¹æ³• | è·¯å¾‘ | èªªæ˜ |
|------|------|------|
| GET | `/members` | å–å¾—å“¡å·¥æ¸…å–®ï¼ˆåˆ†é ã€ç¯©é¸ã€æ’åºï¼‰ |
| GET | `/members/stats` | å–å¾—å“¡å·¥çµ±è¨ˆ |
| GET | `/members/{emp_id}` | å–å¾—å–®ä¸€å“¡å·¥ |
| POST | `/members` | æ–°å¢å“¡å·¥ |
| PUT | `/members/{emp_id}` | æ›´æ–°å“¡å·¥ |
| DELETE | `/members/{emp_id}` | åˆªé™¤å“¡å·¥ |
| GET | `/divisions` | å–å¾—éƒ¨é–€æ¸…å–® |

### è«‹å‡ç¶­è­· API

| æ–¹æ³• | è·¯å¾‘ | èªªæ˜ |
|------|------|------|
| GET | `/attendance` | å–å¾—è«‹å‡è¨˜éŒ„ |
| GET | `/attendance/{emp_id}/{leave_date}/{leave_type}` | å–å¾—å–®ä¸€è¨˜éŒ„ |
| POST | `/attendance` | æ–°å¢è«‹å‡è¨˜éŒ„ |
| PUT | `/attendance/{emp_id}/{leave_date}/{leave_type}` | æ›´æ–°è«‹å‡è¨˜éŒ„ |
| DELETE | `/attendance/{emp_id}/{leave_date}/{leave_type}` | åˆªé™¤è«‹å‡è¨˜éŒ„ |

### å¹´å‡ç®¡ç† API

| æ–¹æ³• | è·¯å¾‘ | èªªæ˜ |
|------|------|------|
| GET | `/annual-leave` | å–å¾—å¹´å‡è¨˜éŒ„ |
| GET | `/annual-leave/{emp_id}/{year}/{leave_type}` | å–å¾—å–®ä¸€è¨˜éŒ„ |
| POST | `/annual-leave` | æ–°å¢å¹´å‡è¨˜éŒ„ |
| PUT | `/annual-leave/{emp_id}/{year}/{leave_type}` | æ›´æ–°å¹´å‡è¨˜éŒ„ |
| DELETE | `/annual-leave/{emp_id}/{year}/{leave_type}` | åˆªé™¤å¹´å‡è¨˜éŒ„ |

### å°ˆæ¡ˆç®¡ç† API

| æ–¹æ³• | è·¯å¾‘ | èªªæ˜ |
|------|------|------|
| GET | `/projects` | å–å¾—å°ˆæ¡ˆæ¸…å–® |
| GET | `/projects/stats` | å–å¾—å°ˆæ¡ˆçµ±è¨ˆ |
| GET | `/projects/filter-options` | å–å¾—ç¯©é¸é¸é … |
| GET | `/projects/{project_id}` | å–å¾—å–®ä¸€å°ˆæ¡ˆ |
| POST | `/projects` | æ–°å¢å°ˆæ¡ˆ |
| PUT | `/projects/{project_id}` | æ›´æ–°å°ˆæ¡ˆ |
| DELETE | `/projects/{project_id}` | åˆªé™¤å°ˆæ¡ˆ |
| POST | `/projects/import` | æ‰¹æ¬¡åŒ¯å…¥å°ˆæ¡ˆ |

### åƒæ•¸æª” API

| æ–¹æ³• | è·¯å¾‘ | èªªæ˜ |
|------|------|------|
| GET | `/codetable` | å–å¾—åƒæ•¸æ¸…å–® |
| GET | `/codetable/leave-types` | å–å¾—å‡åˆ¥æ¸…å–® |
| GET | `/codetable/{code_code}/{code_subcode}` | å–å¾—å–®ä¸€åƒæ•¸ |
| POST | `/codetable` | æ–°å¢åƒæ•¸ |
| PUT | `/codetable/{code_code}/{code_subcode}` | æ›´æ–°åƒæ•¸ |
| DELETE | `/codetable/{code_code}/{code_subcode}` | åˆªé™¤åƒæ•¸ |

### ç³»çµ±ç®¡ç† APIï¼ˆéœ€ ADMIN æ¬Šé™ï¼‰

| æ–¹æ³• | è·¯å¾‘ | èªªæ˜ |
|------|------|------|
| GET | `/api/system/users` | å–å¾—ä½¿ç”¨è€…æ¸…å–® |
| POST | `/api/system/users` | æ–°å¢ä½¿ç”¨è€… |
| PUT | `/api/system/users/{id}` | æ›´æ–°ä½¿ç”¨è€… |
| DELETE | `/api/system/users/{id}` | åˆªé™¤ä½¿ç”¨è€… |
| GET | `/api/system/roles` | å–å¾—è§’è‰²æ¸…å–® |
| POST | `/api/system/roles` | æ–°å¢è§’è‰² |
| PUT | `/api/system/roles/{id}` | æ›´æ–°è§’è‰² |
| DELETE | `/api/system/roles/{id}` | åˆªé™¤è§’è‰² |
| GET | `/api/system/menus` | å–å¾—é¸å–®æ¸…å–® |
| POST | `/api/system/menus` | æ–°å¢é¸å–® |
| PUT | `/api/system/menus/{id}` | æ›´æ–°é¸å–® |
| DELETE | `/api/system/menus/{id}` | åˆªé™¤é¸å–® |
| GET | `/api/system/password-policy` | å–å¾—å¯†ç¢¼æ”¿ç­– |
| PUT | `/api/system/password-policy` | æ›´æ–°å¯†ç¢¼æ”¿ç­– |

---

## ğŸ“„ æˆæ¬Š

Â© 2026 Section Builder
